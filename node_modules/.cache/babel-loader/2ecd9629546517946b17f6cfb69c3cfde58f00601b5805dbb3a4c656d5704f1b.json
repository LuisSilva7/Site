{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '@/assets/logo-main-image.png';\nconst _withScopeId = n => (_pushScopeId(\"data-v-0e183cf4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"header\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"left-content\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"logo\"\n}), /*#__PURE__*/_createElementVNode(\"h2\", null, \"GoHelp\")], -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"right-content\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Home\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Iniciativas\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Backoffice\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"header\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_hoisted_4]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_router_link, {\n    to: \"/iniciatives\"\n  }, {\n    default: _withCtx(() => [_hoisted_5]),\n    _: 1 /* STABLE */\n  }), $setup.isCollaborator ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 0,\n    to: \"/dashboard\"\n  }, {\n    default: _withCtx(() => [_hoisted_6]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), !$setup.isLoggedIn ? (_openBlock(), _createElementBlock(\"h3\", {\n    key: 1,\n    onClick: $setup.signInWithGoogle\n  }, \"Login\")) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\"<img v-if=\\\"imageData\\\" :src=\\\"imageData\\\" alt=\\\"Imagem\\\" height=\\\"100px\\\" width=\\\"100px\\\">\"), $setup.isLoggedIn ? (_openBlock(), _createElementBlock(\"h3\", {\n    key: 2,\n    onClick: $setup.handleSignOut\n  }, \"Logout\")) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementVNode","src","alt","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_router_link","to","default","_withCtx","_hoisted_4","_","_hoisted_5","$setup","isCollaborator","_createBlock","key","_hoisted_6","_createCommentVNode","isLoggedIn","onClick","signInWithGoogle","handleSignOut"],"sources":["C:\\Users\\Luís\\Desktop\\SitePW-main\\src\\components\\frontoffice\\TheHeader.vue"],"sourcesContent":["<template>\n  <header class=\"header\">\n    <div class=\"left-content\">\n      <img src=\"@/assets/logo-main-image.png\" alt=\"logo\">\n      <h2>GoHelp</h2>\n    </div>\n    <div class=\"right-content\">\n      <router-link to=\"/\"><h3>Home</h3></router-link>\n      <router-link to=\"/iniciatives\"><h3>Iniciativas</h3></router-link>\n      <router-link v-if=\"isCollaborator\" to=\"/dashboard\"><h3>Backoffice</h3></router-link>\n      <h3 @click=\"signInWithGoogle\" v-if=\"!isLoggedIn\">Login</h3>\n      <!--<img v-if=\"imageData\" :src=\"imageData\" alt=\"Imagem\" height=\"100px\" width=\"100px\">-->\n      <h3 @click=\"handleSignOut\" v-if=\"isLoggedIn\">Logout</h3>\n    </div>\n  </header>\n</template>\n\n<script setup>\n    import { getAuth, GoogleAuthProvider,signInWithPopup, onAuthStateChanged, signOut } from \"firebase/auth\"\n    import { useRouter } from 'vue-router'\n    import { onMounted, ref } from \"vue\"\n\n    const router = useRouter()\n    let isLoggedIn = ref(false)\n    let isCollaborator = ref(false)\n    let auth\n    let imageData = ''\n\n    const signInWithGoogle = () => {\n        const provider = new GoogleAuthProvider()\n        signInWithPopup(getAuth(), provider)\n        .then((result) => {\n            console.log(result.user)\n            router.push(\"/\")\n            location.reload()\n        })\n        .catch((error) => {\n            console.log(\"erro\")\n        })\n    }\n\n    onMounted(() => {\n    auth = getAuth()\n    onAuthStateChanged(auth, (user) => {\n      if(user) {\n        isLoggedIn.value = true\n        if(JSON.parse(localStorage.getItem('backofficeEmails')).includes(user.email)) {\n          isCollaborator.value = true\n        }\n\n        /*const storedImage = JSON.parse(localStorage.getItem('proposedIniciatives')); // Obtém a imagem armazenada no localStorage\n        if (storedImage) {\n          imageData = storedImage[1].photo; // Exibe a imagem\n        } else {\n          alert('Nenhuma imagem encontrada no localStorage.');\n        }*/\n      }\n      else {\n        isLoggedIn = false\n      }\n    })\n  })\n\n  const handleSignOut = () => {\n    signOut(auth).then(() => {\n      router.push(\"/\")\n      location.reload()\n    })\n  }\n</script>\n  \n  <style scoped>\n  *{ \n  \n  width: 100%;\n  }\n  \n  h2{\n\n    font-style: italic;\n    font-family: 'Times New Roman', Times, serif;\n    font-size: 3.5em;\n  }\n  \n h3 {\n    color: #fff;\n    font-family: 'Times New Roman', Times, serif;\n    font-size: 1.5em;\n    cursor: pointer;\n    display: inline-block;\n    margin-left: auto;\n    \n\n}\n\nh3:hover {\n    \n    color: #9d9c9c;\n    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); /* Adiciona uma sombra para destacar o texto */\n    \n}\n\n  \n  .header {\n    color: #fff;\n    display: flex;\n    \n  }\n  \n  .left-content {\n    display: flex;\n    align-items: center;\n  }\n  \n  .right-content {\n    \n    display: flex;\n    align-items: center;\n    width: 50%;\n    text-align: center;\n  \n    \n  }\n  \n  .left-content img {\n    width: 110px;\n    height: 100px;\n  }\n  \n  .right-content img { \n    position: relative;\n    width: 120px;\n    height: 50px;\n  }\n  </style>"],"mappings":";OAGWA,UAAkC;;;EAFnCC,KAAK,EAAC;AAAQ;gEACpBC,mBAAA,CAGM;EAHDD,KAAK,EAAC;AAAc,I,aACvBC,mBAAA,CAAmD;EAA9CC,GAAkC,EAAlCH,UAAkC;EAACI,GAAG,EAAC;iBAC5CF,mBAAA,CAAe,YAAX,QAAM,E;;EAEPD,KAAK,EAAC;AAAe;gEACJC,mBAAA,CAAa,YAAT,MAAI;gEACGA,mBAAA,CAAoB,YAAhB,aAAW;gEACKA,mBAAA,CAAmB,YAAf,YAAU;;;uBARrEG,mBAAA,CAaS,UAbTC,UAaS,GAZPC,UAGM,EACNL,mBAAA,CAOM,OAPNM,UAOM,GANJC,YAAA,CAA+CC,sBAAA;IAAlCC,EAAE,EAAC;EAAG;IAPzBC,OAAA,EAAAC,QAAA,CAO0B,MAAa,CAAbC,UAAa,C;IAPvCC,CAAA;MAQMN,YAAA,CAAiEC,sBAAA;IAApDC,EAAE,EAAC;EAAc;IARpCC,OAAA,EAAAC,QAAA,CAQqC,MAAoB,CAApBG,UAAoB,C;IARzDD,CAAA;MASyBE,MAAA,CAAAC,cAAc,I,cAAjCC,YAAA,CAAoFT,sBAAA;IAT1FU,GAAA;IASyCT,EAAE,EAAC;;IAT5CC,OAAA,EAAAC,QAAA,CASyD,MAAmB,CAAnBQ,UAAmB,C;IAT5EN,CAAA;QAAAO,mBAAA,gB,CAU2CL,MAAA,CAAAM,UAAU,I,cAA/ClB,mBAAA,CAA2D;IAVjEe,GAAA;IAUWI,OAAK,EAAEP,MAAA,CAAAQ;KAAqC,OAAK,KAV5DH,mBAAA,gBAWMA,mBAAA,+FAAwF,EACvDL,MAAA,CAAAM,UAAU,I,cAA3ClB,mBAAA,CAAwD;IAZ9De,GAAA;IAYWI,OAAK,EAAEP,MAAA,CAAAS;KAAiC,QAAM,KAZzDJ,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}