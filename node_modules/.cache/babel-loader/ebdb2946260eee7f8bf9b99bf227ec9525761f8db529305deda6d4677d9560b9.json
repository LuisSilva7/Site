{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Button from '../frontoffice/Button.vue';\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nexport default {\n  components: {\n    Button\n  },\n  data() {\n    return {\n      //fazer login e registar email e ver foto\n      proposedIniciative: {\n        photo: '',\n        name: '',\n        birthDate: '',\n        telNumber: '',\n        theme: '',\n        local: '',\n        targetAudience: '',\n        minParticipants: 0,\n        maxParticipants: 0,\n        objective: '',\n        date: '',\n        status: 'pendente',\n        email: ''\n      },\n      file: null,\n      imageData: ''\n    };\n  },\n  methods: {\n    proposedIniciativeHandler() {\n      if (localStorage.getItem('proposedIniciatives')) {\n        const auth = getAuth();\n        onAuthStateChanged(auth, user => {\n          if (user) {\n            const reader = new FileReader();\n            reader.onload = event => {\n              const base64Image = event.target.result;\n              this.proposedIniciative.email = user.email;\n              let proposedIniciatives = JSON.parse(localStorage.getItem('proposedIniciatives'));\n              this.proposedIniciative.photo = base64Image;\n              proposedIniciatives.push(this.proposedIniciative);\n              localStorage.setItem('proposedIniciatives', JSON.stringify(proposedIniciatives));\n            };\n            if (this.file) {\n              reader.readAsDataURL(this.file);\n              location.reload();\n              alert(\"Proposta de iniciativa enviada com sucesso!\");\n            } else {\n              this.proposedIniciative.email = user.email;\n              let proposedIniciatives = JSON.parse(localStorage.getItem('proposedIniciatives'));\n              proposedIniciatives.push(this.proposedIniciative);\n              localStorage.setItem('proposedIniciatives', JSON.stringify(proposedIniciatives));\n              location.reload();\n              alert(\"Proposta de iniciativa enviada com sucesso!\");\n            }\n          }\n        });\n      }\n    },\n    handleFileChange(event) {\n      this.file = event.target.files[0]; // Obtém o arquivo de imagem selecionado pelo usuário\n    }\n  }\n};","map":{"version":3,"names":["Button","getAuth","onAuthStateChanged","components","data","proposedIniciative","photo","name","birthDate","telNumber","theme","local","targetAudience","minParticipants","maxParticipants","objective","date","status","email","file","imageData","methods","proposedIniciativeHandler","localStorage","getItem","auth","user","reader","FileReader","onload","event","base64Image","target","result","proposedIniciatives","JSON","parse","push","setItem","stringify","readAsDataURL","location","reload","alert","handleFileChange","files"],"sources":["C:\\Users\\Luís\\Desktop\\SitePW-main\\src\\components\\frontoffice\\IniciativeForm.vue"],"sourcesContent":["<template>\n    <div id=\"iniciative\" class=\"form-container\">\n      <h3>PROPONHA UMA INICIATIVA</h3>\n      <form>\n        <div class=\"form-group\">\n          <label for=\"foto\">Foto:</label>\n          <input type=\"file\" @change=\"handleFileChange\" id=\"foto\" name=\"foto\" accept=\"image/*\" required>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"nome\">Nome:</label>\n          <input v-model=\"proposedIniciative.name\" type=\"text\" id=\"nome\" name=\"nome\" required>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"dataNascimento\">Data de Nascimento:</label>\n          <input v-model=\"proposedIniciative.birthDate\" type=\"date\" id=\"dataNascimento\" name=\"dataNascimento\" required>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"telefone\">Telefone:</label>\n          <input v-model=\"proposedIniciative.telNumber\" type=\"tel\" id=\"telefone\" name=\"telefone\" required>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"nomeTema\">Nome do Tema:</label>\n          <input v-model=\"proposedIniciative.theme\" type=\"text\" id=\"nomeTema\" name=\"nomeTema\" required>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"local\">Local:</label>\n          <input v-model=\"proposedIniciative.local\" type=\"text\" id=\"local\" name=\"local\" required>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"publicoAlvo\">Público-Alvo:</label>\n          <input v-model=\"proposedIniciative.targetAudience\" type=\"text\" id=\"publicoAlvo\" name=\"publicoAlvo\" required>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"minParticipantes\">Número Mínimo de Participantes:</label>\n          <input v-model=\"proposedIniciative.minParticipants\" type=\"number\" id=\"minParticipantes\" name=\"minParticipantes\" required>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"maxParticipantes\">Número Máximo de Participantes:</label>\n          <input v-model=\"proposedIniciative.maxParticipants\" type=\"number\" id=\"maxParticipantes\" name=\"maxParticipantes\" required>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"dataIniciativa\">Data da Iniciativa:</label>\n          <input v-model=\"proposedIniciative.date\" type=\"date\" id=\"dataIniciativa\" name=\"dataIniciativa\" required>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"objetivo\">Objetivo:</label>\n          <textarea v-model=\"proposedIniciative.objective\" id=\"objetivo\" name=\"objetivo\" rows=\"4\" required></textarea>\n        </div>\n        <Button @click=\"proposedIniciativeHandler\" content=\"ENVIAR PROPOSTA\"/>\n      </form>\n    </div>\n  </template>\n  \n  <script>\n  import Button from '../frontoffice/Button.vue'\n  import { getAuth, onAuthStateChanged } from \"firebase/auth\"\n  \n  export default {\n    components: { Button },\n    data() {\n      return {\n        //fazer login e registar email e ver foto\n        proposedIniciative: {photo: '', name: '', birthDate: '', telNumber: '', theme: '', local: '', targetAudience: '', minParticipants: 0,\n                            maxParticipants: 0, objective: '', date: '', status: 'pendente', email: ''},\n        file: null,\n        imageData: ''\n      }\n    },\n    methods: {\n      proposedIniciativeHandler() {\n        if (localStorage.getItem('proposedIniciatives')) {\n          const auth = getAuth()\n          onAuthStateChanged(auth, (user) => {\n            if (user) {\n\n              const reader = new FileReader()\n\n              reader.onload = (event) => {\n\n                const base64Image = event.target.result;\n\n                this.proposedIniciative.email = user.email\n\n                let proposedIniciatives = JSON.parse(localStorage.getItem('proposedIniciatives'))\n                this.proposedIniciative.photo = base64Image\n                proposedIniciatives.push(this.proposedIniciative)\n                localStorage.setItem('proposedIniciatives', JSON.stringify(proposedIniciatives))\n              }\n              if(this.file) {\n                reader.readAsDataURL(this.file)\n                location.reload()\n                alert(\"Proposta de iniciativa enviada com sucesso!\")\n              }\n              else {\n                this.proposedIniciative.email = user.email\n              let proposedIniciatives = JSON.parse(localStorage.getItem('proposedIniciatives'))\n              proposedIniciatives.push(this.proposedIniciative)\n              localStorage.setItem('proposedIniciatives', JSON.stringify(proposedIniciatives))\n              location.reload()\n                alert(\"Proposta de iniciativa enviada com sucesso!\")\n              }\n            }\n          })\n        }\n      },\n      handleFileChange(event) {\n        this.file = event.target.files[0]; // Obtém o arquivo de imagem selecionado pelo usuário\n      }\n    }\n  }\n  </script>\n  \n  <style scoped>\n  .form-container {\n    max-width: 600px;\n    margin: 0 auto;\n  }\n  \n  h3 {\n    text-align: left;\n  }\n  \n  .form-group {\n    margin-bottom: 20px;\n  }\n  \n  label {\n    display: block;\n  }\n  \n  input[type=\"text\"],\n  input[type=\"tel\"],\n  input[type=\"number\"],\n  textarea,\n  input[type=\"date\"] {\n    width: calc(100% - 12px); /* Adiciona espaço para a borda */\n    padding: 8px;\n    font-size: 16px;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n  }\n  \n  textarea {\n    resize: vertical; /* Permite redimensionamento vertical */\n  }\n  </style>"],"mappings":";AAsDE,OAAOA,MAAK,MAAO,2BAA0B;AAC7C,SAASC,OAAO,EAAEC,kBAAiB,QAAS,eAAc;AAE1D,eAAe;EACbC,UAAU,EAAE;IAAEH;EAAO,CAAC;EACtBI,IAAIA,CAAA,EAAG;IACL,OAAO;MACL;MACAC,kBAAkB,EAAE;QAACC,KAAK,EAAE,EAAE;QAAEC,IAAI,EAAE,EAAE;QAAEC,SAAS,EAAE,EAAE;QAAEC,SAAS,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,cAAc,EAAE,EAAE;QAAEC,eAAe,EAAE,CAAC;QAChHC,eAAe,EAAE,CAAC;QAAEC,SAAS,EAAE,EAAE;QAAEC,IAAI,EAAE,EAAE;QAAEC,MAAM,EAAE,UAAU;QAAEC,KAAK,EAAE;MAAE,CAAC;MAC/FC,IAAI,EAAE,IAAI;MACVC,SAAS,EAAE;IACb;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,yBAAyBA,CAAA,EAAG;MAC1B,IAAIC,YAAY,CAACC,OAAO,CAAC,qBAAqB,CAAC,EAAE;QAC/C,MAAMC,IAAG,GAAIxB,OAAO,CAAC;QACrBC,kBAAkB,CAACuB,IAAI,EAAGC,IAAI,IAAK;UACjC,IAAIA,IAAI,EAAE;YAER,MAAMC,MAAK,GAAI,IAAIC,UAAU,CAAC;YAE9BD,MAAM,CAACE,MAAK,GAAKC,KAAK,IAAK;cAEzB,MAAMC,WAAU,GAAID,KAAK,CAACE,MAAM,CAACC,MAAM;cAEvC,IAAI,CAAC5B,kBAAkB,CAACa,KAAI,GAAIQ,IAAI,CAACR,KAAI;cAEzC,IAAIgB,mBAAkB,GAAIC,IAAI,CAACC,KAAK,CAACb,YAAY,CAACC,OAAO,CAAC,qBAAqB,CAAC;cAChF,IAAI,CAACnB,kBAAkB,CAACC,KAAI,GAAIyB,WAAU;cAC1CG,mBAAmB,CAACG,IAAI,CAAC,IAAI,CAAChC,kBAAkB;cAChDkB,YAAY,CAACe,OAAO,CAAC,qBAAqB,EAAEH,IAAI,CAACI,SAAS,CAACL,mBAAmB,CAAC;YACjF;YACA,IAAG,IAAI,CAACf,IAAI,EAAE;cACZQ,MAAM,CAACa,aAAa,CAAC,IAAI,CAACrB,IAAI;cAC9BsB,QAAQ,CAACC,MAAM,CAAC;cAChBC,KAAK,CAAC,6CAA6C;YACrD,OACK;cACH,IAAI,CAACtC,kBAAkB,CAACa,KAAI,GAAIQ,IAAI,CAACR,KAAI;cAC3C,IAAIgB,mBAAkB,GAAIC,IAAI,CAACC,KAAK,CAACb,YAAY,CAACC,OAAO,CAAC,qBAAqB,CAAC;cAChFU,mBAAmB,CAACG,IAAI,CAAC,IAAI,CAAChC,kBAAkB;cAChDkB,YAAY,CAACe,OAAO,CAAC,qBAAqB,EAAEH,IAAI,CAACI,SAAS,CAACL,mBAAmB,CAAC;cAC/EO,QAAQ,CAACC,MAAM,CAAC;cACdC,KAAK,CAAC,6CAA6C;YACrD;UACF;QACF,CAAC;MACH;IACF,CAAC;IACDC,gBAAgBA,CAACd,KAAK,EAAE;MACtB,IAAI,CAACX,IAAG,GAAIW,KAAK,CAACE,MAAM,CAACa,KAAK,CAAC,CAAC,CAAC,EAAE;IACrC;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}