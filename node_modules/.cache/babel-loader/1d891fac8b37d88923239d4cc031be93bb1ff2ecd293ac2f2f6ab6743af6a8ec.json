{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport BlueButton from './BlueButton.vue';\nexport default {\n  components: {\n    BlueButton\n  },\n  props: ['materialEdit', 'index'],\n  data() {\n    return {\n      material: {\n        photo: '',\n        name: '',\n        quantity: '',\n        description: ''\n      },\n      file: null,\n      imageData: ''\n    };\n  },\n  methods: {\n    materialHandler() {\n      if (localStorage.getItem('materials')) {\n        const reader = new FileReader();\n        reader.onload = event => {\n          const base64Image = event.target.result;\n          let materials = JSON.parse(localStorage.getItem('materials'));\n          this.material.photo = base64Image;\n          materials.push(this.material);\n          localStorage.setItem('materials', JSON.stringify(materials));\n        };\n        if (this.file) {\n          reader.readAsDataURL(this.file);\n          location.reload();\n          alert(\"Material registado com sucesso!\");\n        } else {\n          let materials = JSON.parse(localStorage.getItem('materials'));\n          materials.push(this.material);\n          localStorage.setItem('materials', JSON.stringify(materials));\n          this.material = {\n            photo: '',\n            name: '',\n            quantity: '',\n            description: ''\n          };\n          alert(\"Material registado com sucesso!\");\n        }\n      }\n    },\n    materialEditHandler() {\n      if (localStorage.getItem('materials')) {\n        const reader = new FileReader();\n        reader.onload = event => {\n          const base64Image = event.target.result;\n          let materials = JSON.parse(localStorage.getItem('materials'));\n          materials.splice(this.index, 1);\n          this.materialEdit.photo = base64Image;\n          materials.push(this.materialEdit);\n          localStorage.setItem('materials', JSON.stringify(materials));\n        };\n        if (this.file) {\n          reader.readAsDataURL(this.file);\n          alert(\"Material editado com sucesso!\");\n        } else {\n          let materials = JSON.parse(localStorage.getItem('materials'));\n          materials.splice(this.index, 1);\n          materials.push(this.materialEdit);\n          localStorage.setItem('materials', JSON.stringify(materials));\n          alert(\"Material editado com sucesso!\");\n        }\n      }\n    },\n    handleFileChange(event) {\n      this.file = event.target.files[0];\n    }\n  }\n};","map":{"version":3,"names":["BlueButton","components","props","data","material","photo","name","quantity","description","file","imageData","methods","materialHandler","localStorage","getItem","reader","FileReader","onload","event","base64Image","target","result","materials","JSON","parse","push","setItem","stringify","readAsDataURL","location","reload","alert","materialEditHandler","splice","index","materialEdit","handleFileChange","files"],"sources":["C:\\Users\\Luís\\Desktop\\SitePW-main\\src\\components\\backoffice\\MaterialAddEdit.vue"],"sourcesContent":["<template>\n    <section class=\"vh-100 gradient-custom\">\n         <div class=\"container py-5 mt-3 h-100\">\n           <div class=\"row justify-content-center align-items-center h-100\">\n             <div class=\"col-12 col-lg-9 col-xl-7\">\n               <div class=\"card shadow-2-strong card-registration\" style=\"border-radius: 15px;\">\n                 <div class=\"card-body p-4 p-md-5\">\n                   <form>\n                     <div class=\"row\">\n                       <div class=\"col-md-6 mb-4\">\n                         <div data-mdb-input-init class=\"form-outline\">\n                           <label class=\"form-label\" for=\"Nome\">Nome do Material</label>\n                           <input v-if=\"materialEdit\" v-model=\"materialEdit.name\" type=\"text\" id=\"nome\" class=\"form-control form-control-lg\"/>\n                           <input v-else v-model=\"material.name\" type=\"text\" id=\"nome\" class=\"form-control form-control-lg\"/>\n                         </div>\n                       </div>\n                       <div class=\"col-md-6 mb-4 pb-2\">\n                         <div data-mdb-input-init class=\"form-outline\">\n                           <label class=\"form-label\" for=\"quantidade\">Quantidade</label>\n                           <input v-if=\"materialEdit\" v-model=\"materialEdit.quantity\" type=\"number\" id=\"Telefone\" class=\"form-control form-control-lg\"/>\n                           <input v-else v-model=\"material.quantity\" type=\"number\" id=\"Telefone\" class=\"form-control form-control-lg\"/>\n                         </div>\n                       </div>\n                     </div>\n                     <div class=\"row\">\n                       <div class=\"col-md-6 mb-4 pb-2\">\n                         <label class=\"form-label\" for=\"imagem\">Foto</label>\n                         <input type=\"file\" @change=\"handleFileChange\" id=\"imagem\" name=\"imagem\" accept=\"image/*\">\n                       </div>\n                     </div>\n                     <div class=\"row\">\n                       <div class=\"col-md-6 mb-4 pb-2\">\n                         <div data-mdb-input-init class=\"form-outline\">\n                           <label class=\"form-label\" for=\"descricao\">Descrição</label>\n                           <input v-if=\"materialEdit\" v-model=\"materialEdit.description\" type=\"text\" id=\"descricao\" class=\"form-control form-control-lg\"/>\n                           <input v-else v-model=\"material.description\" type=\"text\" id=\"descricao\" class=\"form-control form-control-lg\"/>\n                         </div>\n                       </div>\n                     </div>\n                     <div class=\"\">\n                       <BlueButton v-if=\"materialEdit\" @click=\"materialEditHandler\" content=\"Guardar\"/>\n                       <BlueButton v-else @click=\"materialHandler\" content=\"Guardar\"/>\n                     </div>\n                   </form>\n                 </div>\n               </div>\n             </div>\n           </div>\n         </div>\n       </section>\n </template>\n \n <script>\n import BlueButton from './BlueButton.vue'\n\n export default {\n    components: { BlueButton },\n    props: ['materialEdit', 'index'],\n    data() {\n      return {\n        material: {photo: '', name: '', quantity: '', description: ''},\n        file: null,\n        imageData: ''\n      }\n    },\n    methods: {\n      materialHandler() {\n        if (localStorage.getItem('materials')) {\n\n              const reader = new FileReader()\n\n              reader.onload = (event) => {\n\n                const base64Image = event.target.result;\n\n                let materials = JSON.parse(localStorage.getItem('materials'))\n                this.material.photo = base64Image\n                materials.push(this.material)\n                localStorage.setItem('materials', JSON.stringify(materials))\n              }\n              if(this.file) {\n                reader.readAsDataURL(this.file)\n                location.reload()\n                alert(\"Material registado com sucesso!\")\n              }\n              else {\n                let materials = JSON.parse(localStorage.getItem('materials'))\n              materials.push(this.material)\n              localStorage.setItem('materials', JSON.stringify(materials))\n              this.material = {photo: '', name: '', quantity: '', description: ''}\n              alert(\"Material registado com sucesso!\")\n              }\n        }\n      },\n      materialEditHandler() {\n        if (localStorage.getItem('materials')) {\n          \n              const reader = new FileReader()\n\n              reader.onload = (event) => {\n\n                const base64Image = event.target.result;\n\n                let materials = JSON.parse(localStorage.getItem('materials'))\n                 materials.splice(this.index, 1)\n                this.materialEdit.photo = base64Image\n                materials.push(this.materialEdit)\n                localStorage.setItem('materials', JSON.stringify(materials))\n              }\n              if(this.file) {\n                reader.readAsDataURL(this.file)\n                alert(\"Material editado com sucesso!\")\n              }\n              else {\n                let materials = JSON.parse(localStorage.getItem('materials'))\n          materials.splice(this.index, 1)\n          materials.push(this.materialEdit)\n          localStorage.setItem('materials', JSON.stringify(materials))\n          alert(\"Material editado com sucesso!\")\n              }\n        }\n      },\n      handleFileChange(event) {\n        this.file = event.target.files[0]\n      }\n    }\n }\n </script>\n \n <style>\n \n </style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}